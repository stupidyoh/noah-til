# 날짜: 2025-05-08

## 🕛 스크럼
- **오늘 할 일**: 부하 테스트
- **예상 이유**: 유저수가 증가함에 따라 계산 시간이 늘어날 것으로 예상
- **어제 회고**: 단위 및 통합 테스트는 코드에러를 제외하고 기능상 문제 없었음. 단, 현재까지 구현된 API를 백엔드와 연결하는 과정에서 추가사양일 필요했고 chromaDB도 서버에 올릴 때 로컬에서와는 다른 설정이 필요했음.

- **팀 이슈**: -
- **공지사항**: 내일 있을 현직자 멘토링 질문 미리 준비할 것

<br>

## 💼 작업 내용
### 주제 1: 멘토링 대비 이슈 생성
- 동적 및 네거티브 프롬프팅 전략
- 개발기간 중 테스트 진행 및 주안점
- 성능평가 방법 및 평가지표

### 주제 2: 부하테스트(진행중)
- 유저 등록 10명 테스트(동시요청 2)
  - 평균 3.15 req/s의 속도로 요청 처리
  - 메모리 사용률은 79.7%로 임베딩 모델 로딩 및 벡터 연산 과정에서 사용하는 것으로 추정
  - CPU 자원 사용률은 최대 41.3%로 여유가 있어 더 많은 동시 요청 처리 가능
- 매칭 추천 10명 테스트(요청 20, 동시요청 5)
  - 처리 속도는 125 req/s로 시간당 약 450,000개의 매칭 요청 처리 가능
  - 평균 응답 시간이 38ms로 매우 짧아 사용자에게 거의 즉각적인 응답 제공
  - 주요 연산은 유저 등록에서 마쳤기에 CPU 사용률이 측정되지 않을 정도로 낮음
  - 메모리 사용률은 71.7%로, 이미 로드된 모델과 데이터를 효율적으로 재사용하는 것으로 보임

<br>

## ✊ 오늘의 도전 과제와 해결 방법
- **도전과제 1**: 유저 id가 동일하면 중복 에러를 반환한다. 때문에 여러 번 테스트를 하기 위해서는 서버를 매 번 껐다 켜야하는 문제 발생
- **해결방법 1**: 추후 테스트 진행시에는 로컬 벡터 DB를 초기화하는 방식 혹은 ID 시작지점인 baseID를 테스트마다 다르게 할 예정

<br>

## 🤔 오늘의 회고(KPT)
- **Keep**: 팀원과 소통하면서 지속적으로 작업 분배하고 있음. 본인 작업이 끝났을 경우 그 다음에 무엇을 할지 서로 공유가 잘되고 있음.
- **Problem**: MVP 단계에서는 테스트 코드를 작성하지 않는다는 피드백을 받았기에 위 진행한 테스트는 중단
- **Try**: 매칭 스코어 계산 부분에 대한 고도화가 필요. 현재는 가중치 부분에 대해 근거 없이 점수를 부여하기 때문.

<br>

## 🔗 내용정리 및 참고자료 링크
- [**동적 및 네거티브 프롬프팅 전략**](https://github.com/100-hours-a-week/2-hertz-wiki/issues/147)
- [**개발기간 중 테스트 진행 및 주안점**](https://github.com/100-hours-a-week/2-hertz-wiki/issues/148)** 
- [**성능평가 방법 및 평가지표**](https://github.com/100-hours-a-week/2-hertz-wiki/issues/149)

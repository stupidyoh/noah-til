# 날짜: 2025-05-26 & 2025-05-27

## 🕛 스크럼
- **오늘 할 일**: v2 API에 MCP 적용
- **예상 이유**: 리펙터링에 시간 소요 예상
- **어제 회고**: OpenAI Agent SDK는 결국 OpenAI API 키가 있어야 사용이 가능해 Langchain-MCP-Adapter를 사용하기로 하였다. MCP를 전체적으로 테스트하는 데에 4일이 소모되어 예상보다 도입시기가 늦어졌다. 

- **팀 이슈**: -
- **공지사항**: 13:25 PM 미팅

<br>

## 💼 작업 내용
### 주제 1: 
- 모듈 경로 수정: 절대경로 -> 상대경로
- Ollama 모델 사용으로 인한 답변 형식 바뀐 문제 해결

<br>

## ✊ 오늘의 도전 과제와 해결 방법
**도전과제 1**:
```json
{
  "code": "TUNING_REPORT_SUCCESS",
  "data": {
    "title": "매칭 공지",
    "content": "{\n  \"title\": \"야기된 호기심, 두 사람의 MBTI 조합으로 풀어보기!\",\n  \"content\": \"\\U0001f937 #공개 #호기심 \\n\\n안녕하세요 독자 여러분! 오늘은 당신들의 이야기를 공유하기로 결심했어요!\\U0001f465 이미 두 사람이 만나고 있는 것 같지 않나요? 호기심을 가지고, 그 이유는 바로 이 MBTI 조합 때문이에요! \\U0001f973\\n\\n#도입부 #공개 \\n\\n안녕하세요, 사용자 A와 B! 여러분의 만남은 이미 시작되었지만, 아직 본격적인 이야기는 공개하지 않았습니다. 하지만 호기심을 가지고 찾아내 보시면 좋을 것 같아요!\\U0001f60e\\n\\n#본문 \\n\\n#히트 #1\\n\\n사람들이 가장 많이 찾는 호기심은 바로 MBTI 조합입니다. 사용자 A가 ISTJ, 사용자 B가 ENFP이니 이 두 사람의 조합은 매우 흥미로운 것이죠! 서로에게 새로운 관점을 제공하고, 이해하기 어려울 정도로 독특한 매칭 유형을 가지고 있어요.\\U0001f600\\n\\n#히트 #2\\n\\n사람들이 가장 많이 찾는 호기심은 바로 MBTI 조합입니다. 사용자 A가 ISTJ, 사용자 B가 ENFP이니 이 두 사람의 조합은 매우 흥미로운 것이죠! 서로에게 새로운 관점을 제공하고, 이해하기 어려울 정도로 독특한 매칭 유형을 가지고 있어요.\\U0001f489\\n\\n사랑하는 사용자 A와 B, 이제는 끈적임 없는 커플링을 예상해보시게! 두 사람의 관심사인 음식과 운동에 대한 공통점에서 흥미로운 상상을 해보면 어떨까요?\\U0001f47c\\n\\n#히트 #3\\n\\n사랑하는 사용자 A와 B, 이제는 끈적임 없는 커피링을 예상해보시게! 두 사람의 대화 횟수가 어떻게 될지 궁금하지 않으세요? 호기심과 호기심이 반복적으로 만나며 더 깊고 다양한 이야기를 나눌 것이에요!\\U0001f609\\n\\n#마무리 #공개 \\n\\n사랑하는 사용자 A와 B, 오늘의 특별한 공개는 단순히 MBTI 조합을 설명하는 것远远遠아닙니다! 이 두 사람이 어떤 매칭 유형인지 이해하고 싶으시다면, 호기심을 가지고 찾아내보세요!\\U0001f974\\n\\nStay Tuned! 더 많은 호기심을 불러일으키는 이야기가 기다리고 있어요!\"\n}"
  }
}
```
* title이 content 내부에 포함됨
  
**해결방법 1**: 
- **`extract_json_from_content` 함수 추가**: 중첩된 JSON 문자열을 단계별로 파싱
- **정규식 패턴 매칭**: JSON 파싱이 실패할 경우 정규식으로 title과 content를 직접 추출
```json
{
  "code": "TUNING_REPORT_SUCCESS",
  "data": {
    "title": " breakout! 두 사람, MBTI 조합으로 당신의 궁금증을 풀어보자! ",
    "content": "💡 #Breakout\n\n@UserA와 @UserB, 한 줄에선 마주치지 못한 두 분이지만, 뇌리는 이미 연결되어 있죠? 🤔 이제는 호기심으로 이어져 보세요! 💬\n\n🔥 #공지문 도입부\n\n두 분의 MBTI 조합은 ISTJ & ENFP, 정말 어색하지 않나요? 정체를 바로 공개하기 전에 흥미로운 해석부터 시작해볼까요!\n\n🧩 #본문 힌트 #1\n\nISTJ와 ENFP는 '자신을 이해하는 것'과 '기분 변화를 느끼고 뛰어나다'라는 가치를 공유합니다. 이런 특성이 만나면, 서로에게 더욱 안전감과 독특한 경험을 제공하게 될 거예요!\n\n🧩 #본문 힌트 #2\n\n두 분의 관심사 중 공통점은 '그림 그리기'와 '넷플릭스 시리즈'. 이에 대한 유쾌한 상상력으로, 당신이 그들의 대화를 기대하는 이유를 짐작해보세요? 📺✨\n\n🧩 #본문 힌트 #3\n\n대화 횟수가 늘어날수록, 두 분은 더 자연스럽게 어울리는 것 같아요. 10번을 넘으면, '그들은 이미 완벽한 친구가 될 거야'라는 예측이 나올 테니, 기대해 보세요!\n\n🎉 #마무리 🚀\n\nStay Tuned! 오늘은 당신의 이성 친구를 발견하는 데 한 걸음 더 다가갔어요. 내일 또 만나요! 💐💕💕"
  }
}
```

<br>

## 🤔 오늘의 회고(KPT)
- **Keep**: 
- **Problem**: 
- **Try**: 

<br>

## 🔗 내용정리 및 참고자료 링크
- [노션 링크](https://grizzly-crater-c04.notion.site/MCP-1ff75a6ebc0a80cfa8d5dec78f720104?source=copy_link)
